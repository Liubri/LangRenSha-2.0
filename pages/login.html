<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="../playerGrid.css" />
    <link rel="stylesheet" href="../modal.css" />
    <link rel="stylesheet" href="../voteSummary.css" />
    <link rel="stylesheet" href="../endGameText.css">
    <title>Werewolf</title>
  </head>
  <body>
    <div class="container">
      <h1>
        <i data-lucide="moon" class="icon" id="moon"></i>
        狼人杀 (Werewolf)
      </h1>
      <div class="player-inputs">
        <input type="text" id="playerName" placeholder="Enter your name" />
        <input type="text" placeholder="Enter Lobby ID" />
        <button class="create-lobby" onclick="createLobby()">
          <i data-lucide="users" class="icon"></i>
          Create Lobby
        </button>
        <button class="join-room" onclick="handleJoinRoom()">
          <i data-lucide="door-open" class="icon"></i>
          Join Room
        </button>
      </div>
      <!-- <button onclick="tButtons()">toggleButtons</button> -->
      <!-- <button onclick="toggleBlur()">toggleBlur</button> -->
    </div>

    <!-- Create a Lobby-->
    <label for="lobbyType">Select Lobby Type:</label>
    <select id="lobbyType">
      <option value="preconfigured">Preconfigured Lobby</option>
      <option value="custom">Custom Lobby</option>
    </select>

    <div id="preconfiguredLobbies" style="display: none">
      <label for="preconfiguredLobby">Choose a Preconfigured Lobby:</label>
      <select id="preconfiguredLobby">
        <option value="basic">
          Basic: 4 Werewolves, 4 Villagers, 1 Seer, 1 Witch
        </option>
        <option value="advanced">
          AdvancedTest: 1 Witch, 1 Seer, 1 Werewolf
        </option>
        <!-- Add more preconfigured setups as needed -->
      </select>
    </div>

    <div id="customLobby" style="display: none">
      <h3>Custom Lobby Setup</h3>
      <label for="werewolvesCount">Number of Werewolves:</label>
      <input type="number" id="werewolvesCount" min="0" max="10" />

      <label for="villagersCount">Number of Villagers:</label>
      <input type="number" id="villagersCount" min="0" max="10" />

      <label for="seer">Include Seer:</label>
      <input type="checkbox" id="seer" />

      <label for="witch">Include Witch:</label>
      <input type="checkbox" id="witch" />

      <label for="wolfBeauty">Include 狼美人:</label>
      <input type="checkbox" id="wolfBeauty" />

      <!-- Add more role configurations as necessary -->
    </div>

    <!--Player Grid-->
    <div class="player-grid" id="mainPlayerGrid">
      <!-- Player cards will be generated here -->
    </div>

    <!--Game Log and Action buttons-->
    <div class="game-info">
      <div class="card">
        <h2>Game Log</h2>
        <div class="game-log">
          <p>The game has started. Night falls on the village...</p>
        </div>
      </div>
      <div class="card">
        <h2>Actions</h2>
        <div id="action-buttons">
          <button class="action-btn save">
            <i data-lucide="beaker" class="icon"></i> Save Potion
          </button>
          <button class="action-btn poison">
            <i data-lucide="beaker" class="icon"></i> Poison Potion
          </button>
          <button class="action-btn" id="openVoteModal">Vote</button>
        </div>
      </div>
    </div>

    <div class="modal" id="actionModal">
      <h1 id="modalTitle">Action</h1>
      <div class="players-grid" id="playersGrid"></div>
      <div class="buttons-container">
        <button id="actionButton" class="action-button" disabled>
          Confirm Action
        </button>
        <button id="skipVote" class="action-button">Skip Vote</button>
      </div>
    </div>

    <!-- Voting Results-->
    <div id="voting-results" class="voteCard hide">
      <div class="card-header">
        <div class="card-title">
          <!-- SVG for Vote Icon -->
          <h3>Voting Results</h3>
        </div>
      </div>
      <div class="card-content">
        <div id="grouped-votes" class="grouped-votes"></div>
        <div id="skipped-votes" class="skipped-votes hidden"></div>
        <div class="summary"></div>
      </div>
    </div>
    
    <div class="villagers-win hidden">
      <svg id="goodWin" width="77" height="18" viewBox="0 0 77 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15.48 0.819999C16.2667 0.846666 16.68 1.08 16.72 1.52C16.7067 1.94667 16.4733 2.18 16.02 2.22C13.7133 2.24667 11.72 2.28 10.04 2.32C10.1067 2.44 10.1467 2.59333 10.16 2.78C10.1333 3.42 10.0333 5.1 9.86 7.82C9.82 8.75333 9.78 9.7 9.74 10.66C11.58 10.58 13.32 10.48 14.96 10.36C15.6 10.3067 16.16 10.28 16.64 10.28C17.16 10.2933 17.42 10.5 17.42 10.9C17.4067 11.2733 17.2 11.5067 16.8 11.6C15.7067 11.72 13.42 11.8733 9.94 12.06C9.86 12.06 9.78 12.0667 9.7 12.08C9.66 13.5333 9.63333 15.0133 9.62 16.52C9.55333 17.0267 9.32 17.2867 8.92 17.3C8.49333 17.2733 8.25333 16.9867 8.2 16.44C8.2 15.1867 8.22667 13.7533 8.28 12.14C6.22667 12.2333 4.06667 12.2867 1.8 12.3C1.41333 12.3 1.12 12.24 0.92 12.12C0.733333 12.0133 0.64 11.7867 0.64 11.44C0.653333 11.1067 0.886667 10.9267 1.34 10.9C3.82 10.86 6.15333 10.8 8.34 10.72C8.43333 8.4 8.57333 5.75333 8.76 2.78C8.78667 2.59333 8.83333 2.44667 8.9 2.34C7.76667 2.38 6.78667 2.42 5.96 2.46C4.57333 2.54 3.24 2.59333 1.96 2.62C1.4 2.59333 1.11333 2.33333 1.1 1.84C1.1 1.49333 1.41333 1.28667 2.04 1.22C4.76 0.993333 9.24 0.859999 15.48 0.819999ZM2.42 3.8C2.86 3.81333 3.14667 3.96667 3.28 4.26C3.53333 5.36667 3.84 6.36 4.2 7.24C4.41333 7.66667 4.52667 8.02667 4.54 8.32C4.51333 8.76 4.25333 8.99333 3.76 9.02C3.44 9.00667 3.18 8.85333 2.98 8.56C2.19333 6.57333 1.8 5.22 1.8 4.5C1.82667 4.06 2.03333 3.82667 2.42 3.8ZM16.1 3.72C16.4733 3.76 16.68 3.96667 16.72 4.34C16.7067 4.55333 16.6067 4.78667 16.42 5.04C15.7667 6.24 15.0867 7.54 14.38 8.94C14.1267 9.19333 13.8933 9.32667 13.68 9.34C13.3067 9.28667 13.1 9.08 13.06 8.72C13.06 8.45333 13.1333 8.19333 13.28 7.94C13.9867 6.43333 14.6933 5.12667 15.4 4.02C15.6267 3.82 15.86 3.72 16.1 3.72ZM31.44 0.579999C33.1733 0.579999 34.4667 0.82 35.32 1.3C36.1467 1.78 36.56 2.67333 36.56 3.98C36.56 5.31333 36.16 6.26667 35.36 6.84C34.5733 7.30667 33.4933 7.54 32.12 7.54C31.9467 7.54 31.78 7.54 31.62 7.54C31.6333 7.59333 31.64 7.64667 31.64 7.7C31.64 8.42 31.68 9.06667 31.76 9.64C32.88 9.6 34.04 9.58 35.24 9.58C36.1733 9.64667 36.64 9.90667 36.64 10.36C36.6133 10.7333 36.3533 10.94 35.86 10.98C34.4467 10.98 33.1667 11 32.02 11.04C32.1533 11.4533 32.3067 11.8133 32.48 12.12C33.0267 13.24 33.7533 14.0733 34.66 14.62C35.1133 14.9267 35.8533 15.22 36.88 15.5C37.1867 15.6333 37.34 15.8733 37.34 16.22C37.3 16.58 37.0933 16.7867 36.72 16.84C36.2267 16.84 35.7333 16.7467 35.24 16.56C34.2667 16.1733 33.42 15.6333 32.7 14.94C31.9133 14.1667 31.3133 13.2067 30.9 12.06C30.7933 11.7533 30.7067 11.4267 30.64 11.08C29.8533 11.12 29.14 11.1667 28.5 11.22C26.8333 11.3533 25.68 11.4733 25.04 11.58C24.6667 11.6467 24.3933 11.68 24.22 11.68C23.74 11.68 23.48 11.4733 23.44 11.06C23.4667 10.66 23.7267 10.4 24.22 10.28C25.5667 10.08 27.16 9.92 29 9.8C29.4667 9.76 29.9333 9.72667 30.4 9.7C30.32 9.12667 30.2667 8.51333 30.24 7.86C30.24 7.72667 30.2467 7.62 30.26 7.54C26.0867 7.51333 23.6067 7.42667 22.82 7.28C22.74 7.85333 22.6733 8.36667 22.62 8.82C22.4867 9.86 22.42 10.8 22.42 11.64C22.42 12.92 22.6 13.8733 22.96 14.5C23.4133 15.22 24.0933 15.58 25 15.58C25.8533 15.58 27.1933 15.1867 29.02 14.4C29.1933 14.3333 29.3133 14.2867 29.38 14.26C29.82 14.2733 30.0533 14.48 30.08 14.88C30.04 15.2667 29.86 15.5267 29.54 15.66C28.9667 16.06 28.26 16.3733 27.42 16.6C26.6333 16.8533 25.9067 16.9867 25.24 17H24.9C23.7133 17 22.7867 16.6267 22.12 15.88C21.3867 14.9733 21.02 13.6133 21.02 11.8V11.26C21.0333 10.2467 21.1333 9.03333 21.32 7.62C21.4933 6.3 21.82 4.58 22.3 2.46H22.28C21.7067 2.43333 21.3933 2.2 21.34 1.76C21.38 1.42667 21.5867 1.19333 21.96 1.06C23.0667 0.78 26.2267 0.62 31.44 0.579999ZM23.8 2.34C23.7733 2.44667 23.7333 2.54 23.68 2.62C23.44 3.78 23.24 4.82 23.08 5.74C23.9333 5.75333 25.1133 5.86 26.62 6.06C28.2867 6.11333 29.9867 6.14 31.72 6.14C32.9733 6.14 33.8667 5.99333 34.4 5.7C34.8 5.47333 35 4.9 35 3.98C35 3.1 34.7667 2.58 34.3 2.42C33.94 2.14 33.04 2 31.6 2C29.3067 2 27.0067 2.07333 24.7 2.22C24.3667 2.27333 24.0667 2.31333 23.8 2.34ZM41.1 3.08C41.2733 3.08 41.4133 3.11333 41.52 3.18C42.32 2.76667 43.0533 2.55333 43.72 2.54H44.04C44.76 2.54 45.4067 2.83333 45.98 3.42C46.6333 4.12667 46.96 5.36667 46.96 7.14V7.86C46.96 8.99333 46.84 10.3067 46.6 11.8C46.4133 13.1733 46.1667 14.2533 45.86 15.04C45.7267 15.3467 45.52 15.5 45.24 15.5C44.8133 15.4733 44.58 15.2667 44.54 14.88C44.5533 14.7467 44.6067 14.5467 44.7 14.28C44.9933 13.2667 45.2133 12.06 45.36 10.66C45.4933 9.47333 45.56 8.56667 45.56 7.94C45.56 6.19333 45.3667 5.03333 44.98 4.46C44.7267 4.11333 44.34 3.94 43.82 3.94C43.5267 3.94 43.0133 4.10667 42.28 4.44C42.1467 4.50667 42.02 4.55333 41.9 4.58C41.9267 5.26 41.9533 5.94 41.98 6.62C42.0467 6.60667 42.12 6.6 42.2 6.6C42.2933 6.6 42.54 6.63333 42.94 6.7C43.4067 6.76667 43.68 6.81333 43.76 6.84C44.2533 7 44.5133 7.26 44.54 7.62C44.5 8.02 44.24 8.22667 43.76 8.24C43.5467 8.24 42.9733 8.16 42.04 8C42.0667 8.64 42.0867 9.26667 42.1 9.88H42.12C42.7333 9.90667 43.2533 9.98667 43.68 10.12C44.08 10.2133 44.2867 10.42 44.3 10.74C44.26 11.1267 43.9733 11.3333 43.44 11.36C42.92 11.3333 42.4867 11.2733 42.14 11.18C42.18 12.14 42.2133 13.0733 42.24 13.98C42.2533 14.38 42.2667 14.68 42.28 14.88C42.2533 15.32 42.0667 15.5533 41.72 15.58C41.2667 15.5667 40.98 15.36 40.86 14.96C40.6333 8.73333 40.5067 5.01333 40.48 3.8C40.4933 3.33333 40.7 3.09333 41.1 3.08ZM49.62 0.979999C50.0067 0.993332 50.2133 1.2 50.24 1.6C50.2133 1.92 50.1 2.34667 49.9 2.88C49.7933 3.22667 49.6867 3.58 49.58 3.94H49.62C49.9667 3.94 50.78 3.97333 52.06 4.04C52.1 3.16 52.1467 2.24667 52.2 1.3C52.28 0.753333 52.54 0.466666 52.98 0.439999C53.3933 0.453333 53.6267 0.74 53.68 1.3C53.6533 1.74 53.6133 2.67333 53.56 4.1C55.28 4.18 56.28 4.23333 56.56 4.26C57.0667 4.42 57.3267 4.68 57.34 5.04C57.3 5.48 57.02 5.71333 56.5 5.74C55.98 5.74 54.9733 5.70667 53.48 5.64C53.4667 5.86667 53.4533 6.1 53.44 6.34C53.4 7.3 53.36 8.26667 53.32 9.24C54.0533 9.21333 54.8467 9.19333 55.7 9.18C56.5533 9.19333 57 9.42667 57.04 9.88C57.0133 10.3467 56.7533 10.6067 56.26 10.66C55.1 10.6867 54.1067 10.72 53.28 10.76C53.24 12.1733 53.2133 13.6 53.2 15.04C53.2 15.0667 53.1933 15.0867 53.18 15.1C54.1533 15.0733 55.2067 15.0533 56.34 15.04C57.18 15.0533 57.62 15.2867 57.66 15.74C57.6333 16.2067 57.3733 16.4667 56.88 16.52C54.0933 16.5467 51.9867 16.6067 50.56 16.7C49.6933 16.7667 48.86 16.8133 48.06 16.84C47.4467 16.8133 47.1333 16.5533 47.12 16.06C47.12 15.66 47.4333 15.4267 48.06 15.36C48.98 15.2667 50.2133 15.1933 51.76 15.14C51.7467 15.0467 51.7333 14.96 51.72 14.88C51.72 13.6933 51.74 12.3533 51.78 10.86C51.6067 10.8733 51.44 10.8867 51.28 10.9C50.5867 10.98 49.9267 11.0333 49.3 11.06C48.7 11.0333 48.3867 10.7733 48.36 10.28C48.36 9.88 48.6733 9.64667 49.3 9.58C49.9533 9.47333 50.8 9.38667 51.84 9.32C51.8667 8.13333 51.9133 6.88 51.98 5.56C51.22 5.53333 50.38 5.49333 49.46 5.44C49.3533 5.42667 49.2733 5.40667 49.22 5.38C48.9933 6.32667 48.7867 7.33333 48.6 8.4C48.4933 8.89333 48.26 9.15333 47.9 9.18C47.4333 9.14 47.2 8.85333 47.2 8.32C47.2 7.66667 47.38 6.58667 47.74 5.08C48.2733 3.05333 48.6933 1.81333 49 1.36C49.1733 1.10667 49.38 0.979999 49.62 0.979999ZM69.14 1.06C69.6067 1.07333 69.84 1.28 69.84 1.68C69.84 2.02667 69.6333 2.26 69.22 2.38C68.0467 2.62 67 2.84667 66.08 3.06C66.0933 3.1 66.1 3.13333 66.1 3.16C66.2067 4.50667 66.3067 5.82667 66.4 7.12C68.4267 7.25333 69.6 7.34 69.92 7.38C70.4133 7.54 70.6733 7.8 70.7 8.16C70.66 8.6 70.3733 8.83333 69.84 8.86C69.2533 8.86 68.1467 8.80667 66.52 8.7C66.6 9.71333 66.68 10.7 66.76 11.66C67.52 11.8333 68.7867 12.26 70.56 12.94C70.8133 13.1667 70.94 13.4267 70.94 13.72C70.9 14.08 70.6933 14.2867 70.32 14.34C70.0133 14.34 69.6933 14.2867 69.36 14.18C68.6 13.9533 67.78 13.68 66.9 13.36C66.94 13.8933 66.98 14.4133 67.02 14.92C67.06 15.3867 67.0933 15.74 67.12 15.98C67.0933 16.42 66.86 16.6533 66.42 16.68C65.9533 16.6667 65.6667 16.4333 65.56 15.98C65.44 14.3267 65.3267 12.84 65.22 11.52C64.1133 12.7067 62.9733 13.96 61.8 15.28C61.56 15.4667 61.3267 15.5667 61.1 15.58C60.7667 15.54 60.5867 15.3333 60.56 14.96C60.56 14.7333 60.6333 14.5 60.78 14.26C62.1933 12.5267 63.6 11.0133 65 9.72C65.0267 9.69333 65.0533 9.67333 65.08 9.66C65.0533 9.28667 65.0267 8.93333 65 8.6C63.9467 8.52 62.7533 8.42667 61.42 8.32C60.86 8.22667 60.5733 7.99333 60.56 7.62C60.5867 7.11333 60.92 6.85333 61.56 6.84C62.0267 6.84 63.1333 6.9 64.88 7.02C64.76 5.31333 64.68 4.10667 64.64 3.4C64.08 3.54667 63.5867 3.68 63.16 3.8C62.44 4 61.9067 4.1 61.56 4.1C61.12 4.1 60.8867 3.89333 60.86 3.48C60.8867 3.09333 61.1 2.83333 61.5 2.7C65.4733 1.62 68.02 1.07333 69.14 1.06ZM71.96 3.64C72.4667 3.64 72.7533 3.9 72.82 4.42C73.0733 7.48667 73.3333 10.4467 73.6 13.3C73.64 13.6467 73.6667 13.9133 73.68 14.1C73.6533 14.54 73.42 14.7733 72.98 14.8C72.5133 14.7867 72.2267 14.5533 72.12 14.1C71.6533 8.66 71.3933 5.40667 71.34 4.34C71.3533 3.88667 71.56 3.65333 71.96 3.64ZM76.1 0.899999C76.46 0.899999 76.6933 1.13333 76.8 1.6V15.82C76.7733 16.5267 76.5667 16.8933 76.18 16.92C75.7 16.8933 75.44 16.6333 75.4 16.14C75.4133 12.2467 75.4267 9.31333 75.44 7.34C75.4533 5.32667 75.46 4.03333 75.46 3.46C75.4733 2.58 75.48 1.93333 75.48 1.52C75.48 1.10667 75.6867 0.899999 76.1 0.899999Z" fill="white"/>
        </svg>        
    </div>
    
    <div class="werewolves-win hidden">
      <svg id="evilWin" width="91" height="28" viewBox="0 0 91 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.36 5.328C9.95733 5.392 10.288 5.73333 10.352 6.352C10.3307 6.69333 10.1707 7.06667 9.872 7.472C9.01867 7.984 8.18667 8.50667 7.376 9.04C7.67467 9.488 7.952 9.97867 8.208 10.512C8.93333 12.176 9.31733 14.032 9.36 16.08C9.36 18.5333 8.96533 20.3787 8.176 21.616C7.152 23.1733 5.84 23.952 4.24 23.952C3.25867 23.952 2.36267 23.6213 1.552 22.96C0.848 22.2347 0.496 21.3173 0.496 20.208C0.496 19.184 0.794667 18.1067 1.392 16.976C2.032 15.9307 3.03467 14.992 4.4 14.16C5.36 13.584 6.128 13.2427 6.704 13.136C6.55467 12.5813 6.37333 12.048 6.16 11.536C5.968 11.0453 5.75467 10.5973 5.52 10.192C4.47467 10.8533 3.41867 11.5253 2.352 12.208C1.968 12.6133 1.59467 12.8267 1.232 12.848C0.634667 12.7627 0.304 12.4213 0.24 11.824C0.24 11.4187 0.368 11.0027 0.624 10.576C1.75467 9.76533 2.87467 9.008 3.984 8.304C3.89867 8.21867 3.84533 8.16533 3.824 8.144C3.184 7.61067 2.36267 7.30133 1.36 7.216C0.549333 7.152 0.133333 6.77867 0.112 6.096C0.133333 5.37067 0.592 4.99733 1.488 4.976C2.53333 4.976 3.52533 5.28533 4.464 5.904C4.976 6.26667 5.456 6.68267 5.904 7.152C6.69333 6.68267 7.472 6.24533 8.24 5.84C8.60267 5.49867 8.976 5.328 9.36 5.328ZM7.088 15.344C5.53067 16.0907 4.47467 16.7627 3.92 17.36C3.13067 18.32 2.736 19.2267 2.736 20.08C2.736 20.5493 2.87467 20.912 3.152 21.168C3.49333 21.5307 3.856 21.712 4.24 21.712C5.15733 21.712 5.84 21.2533 6.288 20.336C6.84267 19.3973 7.12 17.9787 7.12 16.08C7.12 15.824 7.10933 15.5787 7.088 15.344ZM17.616 0.079998C17.9573 0.079998 18.2987 0.261332 18.64 0.623999C19.0453 0.986666 19.3867 1.33867 19.664 1.68C20.0267 2.02133 20.2187 2.37333 20.24 2.736C20.4107 2.71467 20.592 2.704 20.784 2.704C22.64 2.704 24.1227 3.22667 25.232 4.272C26.32 5.27467 26.864 6.94933 26.864 9.296V11.408C26.864 13.712 26.192 15.2907 24.848 16.144C24.4427 16.3573 24.0267 16.5387 23.6 16.688C23.8987 16.8587 24.1867 17.0507 24.464 17.264C25.552 18.16 26.096 19.2693 26.096 20.592C26.096 21.9573 25.6907 23.1413 24.88 24.144C25.3707 24.208 25.8613 24.272 26.352 24.336C27.0347 24.4427 27.408 24.816 27.472 25.456C27.408 26.1813 26.9493 26.5547 26.096 26.576C25.328 26.576 24.24 26.384 22.832 26C21.232 27.0667 19.4613 27.6 17.52 27.6C15.0667 27.6 13.1573 27.024 11.792 25.872C10.5973 24.784 10 23.0133 10 20.56C10 17.616 10.8 12.7093 12.4 5.84C11.8453 5.79733 11.536 5.46667 11.472 4.848C11.4933 4.336 11.792 3.96266 12.368 3.728C13.9893 3.344 15.632 3.07733 17.296 2.928C17.168 2.77867 17.0613 2.66133 16.976 2.576C16.656 2.27733 16.496 1.81867 16.496 1.2C16.56 0.538665 16.9333 0.165332 17.616 0.079998ZM14.864 5.488C14.8427 6.02133 14.6187 7.01333 14.192 8.464C16.7307 8.48533 18.8747 8.61333 20.624 8.848C21.2427 8.99733 21.5733 9.328 21.616 9.84C21.5307 10.4587 21.072 10.7893 20.24 10.832C17.6587 10.7893 15.536 10.672 13.872 10.48C13.808 10.4587 13.7653 10.448 13.744 10.448C13.4667 11.7707 13.2213 12.9973 13.008 14.128C13.4133 14.2773 13.8827 14.4907 14.416 14.768C15.6533 15.152 16.88 15.344 18.096 15.344C20.3573 15.344 22.0213 15.0667 23.088 14.512C24.112 14.0427 24.624 12.9653 24.624 11.28C24.624 8.37867 24.3147 6.576 23.696 5.872C22.992 5.18933 21.9787 4.848 20.656 4.848C19.0773 4.848 17.1467 5.06133 14.864 5.488ZM12.624 16.432C12.368 18.2667 12.24 19.7707 12.24 20.944C12.24 22.3947 12.6347 23.4827 13.424 24.208C14.3627 25.04 15.6533 25.456 17.296 25.456C18.1707 25.456 19.0133 25.2853 19.824 24.944C18.6933 24.4533 17.8293 23.9093 17.232 23.312C16.4853 22.544 16.112 21.7227 16.112 20.848C16.112 19.696 16.592 18.64 17.552 17.68C17.6373 17.5947 17.7227 17.52 17.808 17.456C15.504 17.4347 13.776 17.0933 12.624 16.432ZM21.616 18.352C20.6773 18.352 19.8347 18.5973 19.088 19.088C18.5973 19.5147 18.352 20.1013 18.352 20.848C18.352 21.3813 18.9813 22 20.24 22.704C20.816 23.024 21.4667 23.2907 22.192 23.504C23.3013 22.5653 23.856 21.5947 23.856 20.592C23.856 19.9733 23.6427 19.4293 23.216 18.96C22.704 18.5547 22.1707 18.352 21.616 18.352ZM33.36 5.328C33.6373 5.328 33.8613 5.38133 34.032 5.488C35.312 4.82667 36.4853 4.48533 37.552 4.464H38.064C39.216 4.464 40.2507 4.93333 41.168 5.872C42.2133 7.00267 42.736 8.98667 42.736 11.824V12.976C42.736 14.7893 42.544 16.8907 42.16 19.28C41.8613 21.4773 41.4667 23.2053 40.976 24.464C40.7627 24.9547 40.432 25.2 39.984 25.2C39.3013 25.1573 38.928 24.8267 38.864 24.208C38.8853 23.9947 38.9707 23.6747 39.12 23.248C39.5893 21.6267 39.9413 19.696 40.176 17.456C40.3893 15.5573 40.496 14.1067 40.496 13.104C40.496 10.3093 40.1867 8.45333 39.568 7.536C39.1627 6.98133 38.544 6.704 37.712 6.704C37.2427 6.704 36.4213 6.97067 35.248 7.504C35.0347 7.61067 34.832 7.68533 34.64 7.728C34.6827 8.816 34.7253 9.904 34.768 10.992C34.8747 10.9707 34.992 10.96 35.12 10.96C35.2693 10.96 35.664 11.0133 36.304 11.12C37.0507 11.2267 37.488 11.3013 37.616 11.344C38.4053 11.6 38.8213 12.016 38.864 12.592C38.8 13.232 38.384 13.5627 37.616 13.584C37.2747 13.584 36.3573 13.456 34.864 13.2C34.9067 14.224 34.9387 15.2267 34.96 16.208H34.992C35.9733 16.2507 36.8053 16.3787 37.488 16.592C38.128 16.7413 38.4587 17.072 38.48 17.584C38.416 18.2027 37.9573 18.5333 37.104 18.576C36.272 18.5333 35.5787 18.4373 35.024 18.288C35.088 19.824 35.1413 21.3173 35.184 22.768C35.2053 23.408 35.2267 23.888 35.248 24.208C35.2053 24.912 34.9067 25.2853 34.352 25.328C33.6267 25.3067 33.168 24.976 32.976 24.336C32.6133 14.3733 32.4107 8.42133 32.368 6.48C32.3893 5.73333 32.72 5.34933 33.36 5.328ZM46.992 1.968C47.6107 1.98933 47.9413 2.32 47.984 2.96C47.9413 3.472 47.76 4.15467 47.44 5.008C47.2693 5.56267 47.0987 6.128 46.928 6.704H46.992C47.5467 6.704 48.848 6.75733 50.896 6.864C50.96 5.456 51.0347 3.99467 51.12 2.48C51.248 1.60533 51.664 1.14667 52.368 1.104C53.0293 1.12533 53.4027 1.584 53.488 2.48C53.4453 3.184 53.3813 4.67733 53.296 6.96C56.048 7.088 57.648 7.17333 58.096 7.216C58.9067 7.472 59.3227 7.888 59.344 8.464C59.28 9.168 58.832 9.54133 58 9.584C57.168 9.584 55.5573 9.53067 53.168 9.424C53.1467 9.78667 53.1253 10.16 53.104 10.544C53.04 12.08 52.976 13.6267 52.912 15.184C54.0853 15.1413 55.3547 15.1093 56.72 15.088C58.0853 15.1093 58.8 15.4827 58.864 16.208C58.8213 16.9547 58.4053 17.3707 57.616 17.456C55.76 17.4987 54.1707 17.552 52.848 17.616C52.784 19.8773 52.7413 22.16 52.72 24.464C52.72 24.5067 52.7093 24.5387 52.688 24.56C54.2453 24.5173 55.9307 24.4853 57.744 24.464C59.088 24.4853 59.792 24.8587 59.856 25.584C59.8133 26.3307 59.3973 26.7467 58.608 26.832C54.1493 26.8747 50.7787 26.9707 48.496 27.12C47.1093 27.2267 45.776 27.3013 44.496 27.344C43.5147 27.3013 43.0133 26.8853 42.992 26.096C42.992 25.456 43.4933 25.0827 44.496 24.976C45.968 24.8267 47.9413 24.7093 50.416 24.624C50.3947 24.4747 50.3733 24.336 50.352 24.208C50.352 22.3093 50.384 20.1653 50.448 17.776C50.1707 17.7973 49.904 17.8187 49.648 17.84C48.5387 17.968 47.4827 18.0533 46.48 18.096C45.52 18.0533 45.0187 17.6373 44.976 16.848C44.976 16.208 45.4773 15.8347 46.48 15.728C47.5253 15.5573 48.88 15.4187 50.544 15.312C50.5867 13.4133 50.6613 11.408 50.768 9.296C49.552 9.25333 48.208 9.18933 46.736 9.104C46.5653 9.08267 46.4373 9.05067 46.352 9.008C45.9893 10.5227 45.6587 12.1333 45.36 13.84C45.1893 14.6293 44.816 15.0453 44.24 15.088C43.4933 15.024 43.12 14.5653 43.12 13.712C43.12 12.6667 43.408 10.9387 43.984 8.528C44.8373 5.28533 45.5093 3.30133 46 2.576C46.2773 2.17067 46.608 1.968 46.992 1.968ZM78.224 2.096C78.9707 2.11733 79.344 2.448 79.344 3.088C79.344 3.64267 79.0133 4.016 78.352 4.208C76.4747 4.592 74.8 4.95467 73.328 5.296C73.3493 5.36 73.36 5.41333 73.36 5.456C73.5307 7.61067 73.6907 9.72267 73.84 11.792C77.0827 12.0053 78.96 12.144 79.472 12.208C80.2613 12.464 80.6773 12.88 80.72 13.456C80.656 14.16 80.1973 14.5333 79.344 14.576C78.4053 14.576 76.6347 14.4907 74.032 14.32C74.16 15.9413 74.288 17.52 74.416 19.056C75.632 19.3333 77.6587 20.016 80.496 21.104C80.9013 21.4667 81.104 21.8827 81.104 22.352C81.04 22.928 80.7093 23.2587 80.112 23.344C79.6213 23.344 79.1093 23.2587 78.576 23.088C77.36 22.7253 76.048 22.288 74.64 21.776C74.704 22.6293 74.768 23.4613 74.832 24.272C74.896 25.0187 74.9493 25.584 74.992 25.968C74.9493 26.672 74.576 27.0453 73.872 27.088C73.1253 27.0667 72.6667 26.6933 72.496 25.968C72.304 23.3227 72.1227 20.944 71.952 18.832C70.1813 20.7307 68.3573 22.736 66.48 24.848C66.096 25.1467 65.7227 25.3067 65.36 25.328C64.8267 25.264 64.5387 24.9333 64.496 24.336C64.496 23.9733 64.6133 23.6 64.848 23.216C67.1093 20.4427 69.36 18.0213 71.6 15.952C71.6427 15.9093 71.6853 15.8773 71.728 15.856C71.6853 15.2587 71.6427 14.6933 71.6 14.16C69.9147 14.032 68.0053 13.8827 65.872 13.712C64.976 13.5627 64.5173 13.1893 64.496 12.592C64.5387 11.7813 65.072 11.3653 66.096 11.344C66.8427 11.344 68.6133 11.44 71.408 11.632C71.216 8.90133 71.088 6.97067 71.024 5.84C70.128 6.07467 69.3387 6.288 68.656 6.48C67.504 6.8 66.6507 6.96 66.096 6.96C65.392 6.96 65.0187 6.62933 64.976 5.968C65.0187 5.34933 65.36 4.93333 66 4.72C72.3573 2.992 76.432 2.11733 78.224 2.096ZM82.736 6.224C83.5467 6.224 84.0053 6.64 84.112 7.472C84.5173 12.3787 84.9333 17.1147 85.36 21.68C85.424 22.2347 85.4667 22.6613 85.488 22.96C85.4453 23.664 85.072 24.0373 84.368 24.08C83.6213 24.0587 83.1627 23.6853 82.992 22.96C82.2453 14.256 81.8293 9.05067 81.744 7.344C81.7653 6.61867 82.096 6.24533 82.736 6.224ZM89.36 1.84C89.936 1.84 90.3093 2.21333 90.48 2.96V25.712C90.4373 26.8427 90.1067 27.4293 89.488 27.472C88.72 27.4293 88.304 27.0133 88.24 26.224C88.2613 19.9947 88.2827 15.3013 88.304 12.144C88.3253 8.92267 88.336 6.85333 88.336 5.936C88.3573 4.528 88.368 3.49333 88.368 2.832C88.368 2.17067 88.6987 1.84 89.36 1.84Z" fill="white"/>
        <defs>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color: rgba(211,211,224,1); stop-opacity: 1" />
            <stop offset="100%" style="stop-color: rgba(7,13,143,1); stop-opacity: 1" />
          </linearGradient>
        </defs>
        </svg>
    </div>
    <script src="../login.js"></script>
    <script src="../lobby.js"></script>
    <script src="../voteDisplay.js"></script>
    <script>
      const villagersMessage = document.getElementsByClassName("villagers-win")[0];
      socket.on("winMessage", ()=> {
        villagersMessage.classList.remove("hidden");
      });
      
      // Method 1: Toggle class on the body
      function toggleBlur() {
        document.body.classList.toggle('blur-everything');
      }

      const style = document.createElement('style');
      style.textContent = `
       .blur-everything > *:not(.werewolves-win) {
          animation: blurAnimation 2s ease-in-out 1 forwards;
       }
@keyframes blurAnimation {
  0% {
      filter: blur(1px);
  }
  80% {
      filter: blur(3px);
  }
  100% {
      filter: blur(5px);
  }
}
       `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
